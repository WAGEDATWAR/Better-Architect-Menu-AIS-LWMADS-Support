<?xml version="1.0" encoding="utf-8"?>
<Patch>

<!-- SPACE POWER -->
	
	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="CO_SolarArrayGenerator"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePower</designationCategory>
		</value>
	</Operation>

<!-- RESEARCH PRODUCTION -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="CO_TerrainScanner"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_ResearchProduction</designationCategory>
		</value>
	</Operation>
	
<!-- SPACE PLATFORM -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[@Name="COVacDoor"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePlatform</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[@Name="CO_VacBarrierProjector"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePlatform</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="CO_ExtBridge"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePlatform</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="CO_RoofRetractor"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePlatform</designationCategory>
		</value>
	</Operation>
	
	<!--
	Designator_BuildVacRoof and CO_VacRoofFraming's designator seem to show up as duplicates in BAM.
	The below appears to fix this.
	-->
	
	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="CO_VacRoofFraming"]/designationCategory</xpath>
		<value>
			<designationCategory/>
		</value>
	</Operation>

	<Operation Class="PatchOperationRemove">
		<xpath>/Defs/DesignationCategoryDef[defName="Odyssey"]/specialDesignatorClasses/li[text()="ComplementaryOdyssey.Designator_BuildVacRoof"]</xpath>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/DesignationCategoryDef[defName="Ferny_SpacePlatform"]/specialDesignatorClasses</xpath>
		<value>
			<li>ComplementaryOdyssey.Designator_BuildVacRoof</li>
		</value>
	</Operation>
	
</Patch>
